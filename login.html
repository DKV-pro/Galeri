<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login Pengembang</title>
<style>
  * {
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: linear-gradient(135deg, #f7b9c4, #f5c9d6, #f9dee5);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .login-box {
    width: 320px;
    background: rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 15px;
    padding: 40px 30px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    text-align: center;
  }

  .login-box .avatar {
    background: #f28da0;
    color: white;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin: 0 auto 20px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 45px;
  }

  .login-box input[type="text"],
  .login-box input[type="password"] {
    width: 100%;
    padding: 10px 12px;
    margin: 8px 0;
    border: none;
    outline: none;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 6px;
    font-size: 14px;
  }

  .login-box .remember {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    color: #555;
    margin-top: 8px;
    margin-bottom: 20px;
  }

  .login-box button {
    width: 100%;
    background: #f28da0;
    border: none;
    padding: 12px;
    border-radius: 6px;
    color: white;
    font-size: 15px;
    cursor: pointer;
    letter-spacing: 1px;
    transition: background 0.3s ease;
  }

  .login-box button:hover {
    background: #ec7f96;
  }

  .error {
    color: red;
    font-size: 13px;
    margin-top: 5px;
  }
</style>
</head>
<body>
  <div class="login-box">
    <div class="avatar">ðŸ‘¤</div>
    <form id="loginForm" onsubmit="return handleLogin(event)">
      <input type="text" id="username" placeholder="Email" required>
      <input type="password" id="password" placeholder="Password" required>
      <div class="remember">
        <label><input type="checkbox" id="remember"> Remember me</label>
      </div>
      <button type="submit">LOGIN</button>
      <div id="errorMsg" class="error"></div>
    </form>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js"></script>

  <script>
    // ðŸ”¥ Firebase Configuration (punyamu)
    const firebaseConfig = {
      apiKey: "AIzaSyDQdAtltgUGIw2oo302ZHSGh9PUrSLxPY4",
      authDomain: "galeridkv-71c50.firebaseapp.com",
      projectId: "galeridkv-71c50",
      storageBucket: "galeridkv-71c50.appspot.com",
      messagingSenderId: "664839362655",
      appId: "1:664839362655:web:f33ee02a0ced407f8e63ea"
    };

    // Inisialisasi Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Fungsi login pakai Firebase
    async function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      const errorMsg = document.getElementById("errorMsg");

      try {
        // Login ke Firebase Auth
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        const user = userCredential.user;

        // Simpan status login
        localStorage.setItem("isLoggedIn", "true");

        // Arahkan ke halaman admin
        window.location.href = "admin.html";
      } catch (error) {
        console.error(error);
        // Pesan error yang ramah
        switch (error.code) {
          case "auth/invalid-email":
            errorMsg.textContent = "Format email tidak valid.";
            break;
          case "auth/user-not-found":
            errorMsg.textContent = "Email tidak terdaftar.";
            break;
          case "auth/wrong-password":
            errorMsg.textContent = "Password salah.";
            break;
          default:
            errorMsg.textContent = "Gagal login. Periksa koneksi atau data Anda.";
        }
      }
    }
  </script>
</body>
</html>
